<h1 id="graduation">Graduation</h1>
<p>The school administration has encountered a problem with the upcoming
school graduation, a problem which they hope you can help them resolve.
During the graduation ceremony, students will stand in N rows with M
students in each row. The administration wants the graduation to be as
colorful as possible and will therefore hand out hats in different
colors for the students.</p>
<p>For the lineup to look good, it’s important that all the students in
the same column have the same color of hat. So that no one feels left
out, it is also important that all students in the same class have the
same hat color. The row and column for each student has already been
decided, but not the hat color. The administration needs your help with
assigning hat colors to the students so that the graduation is as
colorful as possible.</p>
<p>Write a program that, given how the students will be lined up,
calculates the maximum number of unique hat colors that can be assigned
to the students.</p>
<h2 id="input">Input</h2>
<p>The first line contains three integers N, M (1 &lt;= N, M &lt;= 700)
and K (1 &lt;= K &lt;= 26) – the number of lines, the number of columns,
and the number of classes.</p>
<p>Then N lines follow, each with M characters, describing how the
students will be lined up in the graduation. The character in row i and
column j is an uppercase letter between A and the Kth letter of the
alphabet – the class to which the student in row i, column j belongs. It
is guaranteed that each class has at least one student.</p>
<h2 id="output">Output</h2>
<p>Print an integer – the maximum number of unique hat colors that can
be be assigned to the students so that all the students in the same
column have the same hat color, and also all students in the same class
have the same hat color.</p>
<h2 id="points">Points</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Group</th>
<th style="text-align: left;">Points</th>
<th style="text-align: left;">Bounds</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">N, M&lt;=5</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">k = 2</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">35</td>
<td style="text-align: left;">N, M&lt;=50</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">35</td>
<td style="text-align: left;">No additional constraints</td>
</tr>
</tbody>
</table>
<h2 id="explanation-of-sample-cases">Explanation of sample cases</h2>
<p>In the first sample case, the second column has one student from
class A and one student from class B. Since both of these students must
have the same hat color, everyone in class A must have the same color
hat as everyone in class B. The conclusion is that all students must
have the same color, so the answer is 1.</p>
<p>In the second sample case, classes A and B must have the same color,
as there is a student from each of these two classes in the first
column. Class C, on the other hand, can use a different color on their
hats. Therefore, the answer is 2.</p>
<p>In the third sample case, we can give each class its own color, since
there are no two students from different classes in the same column.
Thus, the answer is 3.</p>
<p>In the last sample case, we can assign one color to all students from
classes A, B and C, and a different color to all students from classes D
and E. So the answer is 2.</p>
<blockquote>
<p>## Sample Input 1</p>
<p>2 3 2 AAB ABB</p>
<p>## Sample Output 1</p>
<p>1</p>
</blockquote>
<p>Sample Input 1 Sample Output 1 2 3 2 1 AAB ABB</p>
<blockquote>
<h2 id="sample-input-1-sample-output-1">Sample Input 1 Sample Output
1</h2>
<p>2 3 2 1 AAB ABB</p>
</blockquote>
